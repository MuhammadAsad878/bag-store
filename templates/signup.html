{% extends "authBase.html" %}

{% block title %}
Syndney Bags | Signup
{% endblock title %}

{% block style %}
{% load static %}
<link rel="stylesheet" href="{% static 'css/signup.css' %}" />
{% endblock style %}

{% block content %}

<div class="container-fluid vh-100 d-flex align-items-center justify-content-center bg-light">
  <div class="row w-100">
    
    <!-- Logo Section (left side) -->
    <div class="col-md-5 d-flex justify-content-center align-items-center bg-white">
      <img src="{% static 'images/logo.png' %}" alt="Logo" class="img-fluid" style="max-height: 150px;" />
    </div>

    <!-- Signup Form Section (right side) -->
    <div class="col-md-7 d-flex align-items-center justify-content-center">
      <div class="col-md-10 col-sm-10 m-auto p-5 rounded-1 bg-light text-light">
        <div class="row pt-4 bg-dark text-light rounded-1 d-flex align-items-center ">
          <h1 class="col-12 pb-2 text-center fw-bold">
            SignUp
          </h1>
         
        </div>

        <form action="{% url 'signup' %}" class="bg-emphasis my-1 p-4 rounded-4 bg" method="post" id="signUpForm">
          <form action="{% url 'signup' %}" class="bg-emphasis my-1 p-4 rounded-4 bg" method="post" id="signUpForm">
          {% csrf_token %}
          <div class="mb-3">
            <label for="username" class="form-label">Enter Username</label>
            <input type="text" id="username" placeholder="Enter Username" class="form-control rounded-0" name="username" required />
          </div>

          <div class="mb-3">
            <label for="exampleInputEmail1" class="form-label">Email address</label>
            <input type="email" class="form-control rounded-0" placeholder="Email address" name="email" id="exampleInputEmail1" required />
          </div>

          <div class="mb-3">
            <label for="exampleInputPassword1" class="form-label">Enter Password</label>
            <div class="input-group">
              <input type="password" class="form-control rounded-0" placeholder="Enter Password" name="password1" id="exampleInputPassword1" required />
              <button type="button" class="" id="togglePassword1" hidden>
                <i class="bi bi-eye-slash" id="eyeIcon1"></i>
              </button>
            </div>
          </div>

          <div class="mb-3">
            <label for="exampleInputPassword2" class="form-label">Confirm Password</label>
            <div class="input-group">
              <input type="password" class="form-control rounded-0" placeholder="Confirm Password" name="password2" id="exampleInputPassword2" required />
              <button type="button" class="btn btn-outline-secondary bg-success" id="togglePassword2">
                <i class="bi bi-eye-slash" id="eyeIcon2"></i>
              </button>
            </div>
          </div>

          <div class="pb-3 m-0 text-light-emphasis d-flex justify-content-end">
          </div>

          <div class="row">
            <button type="submit" class="btn btn-success px-5 col-10 m-auto" id="signUpBtn">Signup</button>
            <div class="col-12 d-flex justify-content-end pe-5">
              <a href="{% url 'loginPage' %}" class="text-success p-2 fw-bold">I already have an account.</a>
              <!-- <a href="index.html" class="text-success p-2 fw-bold">I already have an account.</a> -->
            </div>
          </div>
        </form>
      </div>
    </div>

  </div>
</div>

<script>
  // Toggle show/hide password functionality
  document.getElementById('togglePassword2').addEventListener('click', function () {
    var passwordField = document.getElementById('exampleInputPassword1');
    var icon = document.getElementById('eyeIcon1');
    
    if (passwordField.type === 'password') {
      passwordField.type = 'text';
      icon.classList.remove('bi-eye-slash');
      icon.classList.add('bi-eye');
    } else {
      passwordField.type = 'password';
      icon.classList.remove('bi-eye');
      icon.classList.add('bi-eye-slash');
    }
    var passwordField = document.getElementById('exampleInputPassword2');
    var icon = document.getElementById('eyeIcon2');
    
    if (passwordField.type === 'password') {
      passwordField.type = 'text';
      icon.classList.remove('bi-eye-slash');
      icon.classList.add('bi-eye');
    } else {
      passwordField.type = 'password';
      icon.classList.remove('bi-eye');
      icon.classList.add('bi-eye-slash');
    }
  });



  // Password mismatch check
  document.getElementById('signUpForm').addEventListener('submit', function (event) {
    var password1 = document.getElementById('exampleInputPassword1').value;
    var password2 = document.getElementById('exampleInputPassword2').value;
    
    if (password1 !== password2) {
      event.preventDefault();
    }
  });

</script>
 

{% endblock content %}
